<% 
  provide(:title, "Domains")
  provide(:show_subheader, true)
%>

<% content_for :subheader_actions do %>
  
  <li class="collapsible">
    <%= link_to "<i class='fa fa-plus'></i> Register New Domain".html_safe, new_domain_path %>
  </li>

<% end %>

<!-- === PAGE HEADER === -->

<div class="row add-top-margin">
  <div class="span12">
    <div class="header-card admin-header-card">
      <div class="white-background no-tabs">&nbsp;</div>

      <div class="primary-header span6">
        <span class="header-image" >
          <i class="fa fa-building"></i>
        </span>
        <span class="header-text">
          <h1>Domains</h1>
          <h2>Admin Tools</h2>
        </span>
      </div>

      <div class="secondary-header span6">
        <span class="header-text">
          <h2>
            Showing <%= ((@page.to_i - 1) * @page_size.to_i) + 1 %>
            - <%= [(@page.to_i * @page_size.to_i), @domains.count].min %>
            of <%= @domains.count %>
          </h2>
        </span>            
      </div>
    </div>
  </div>
</div>

<!-- === DOMAINS LIST === -->

<% if !@domains.blank? %>
  
  <div class="row">
    <div class="span12">
      <div class="pagination-header">
        <div class="pagination"><%= paginate @domains %></div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="span12">
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>URL</th>
              <th>Private?</th>
              <th>Created</th>
            </tr>
          </thead>
          <tbody>
            <% @domains.each do |domain| %>
              <tr>
                <td>
                  <%= link_to domain.url, domain %>
                </td>
                <td>
                  <%= (domain.is_private) ? 'Private' : 'Not Private' %>
                </td>
                <td>
                  <%= domain.created_at.to_s :short_date_time %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
    </div>
  </div>

  <div class="row">
    <div class="span12">
      <div class="pagination-footer">
        <div class="pagination"><%= paginate @domains %></div>
      </div>
    </div>
  </div>

<% end %>