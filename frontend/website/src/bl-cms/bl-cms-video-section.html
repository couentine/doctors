<!-- #=== POLYMER & SHIMS ===# -->
<link rel="import" href="../../bower_components/polymer/polymer.html">

<!-- #=== BADGE LIST COMPONENTS ===# -->
<link rel="import" href="bl-cms-section-styles.html">
<link rel="import" href="bl-cms-section-mixin.html">
<link rel="import" href="bl-cms-background-pattern.html">
<link rel="import" href="bl-cms-section-title.html">
<link rel="import" href="bl-cms-section-subtitle.html">
<link rel="import" href="bl-cms-section-buttons.html">
<link rel="import" href="bl-cms-section-footer.html">

<!--
# Badge List CMS Section #

This renders a CMS section item.
-->
<dom-module id="bl-cms-video-section">
  <template>

    <style include="bl-cms-section-style-classes">
      
      /* === LAYOUT & CONTENT STYLES === */
        
        :host {
          display: block;
          font-size: 1rem; 
        }

        #row.centerText {
          text-align: center;
        }

          #video {
            display: block;
            margin-top: 2rem;

            width: 100%;
            max-width: calc((80vh - 3rem) * 1.75); /* sets the max-width based on the view height (matches the height of image section) */

            border-radius: 9px;
            overflow: hidden;
            @apply --bl-shadow-5;
          }
          #row.centerText #video {
            margin-left: auto;
            margin-right: auto;
          }
          #row.hideHeader #video {
            margin-top: 0;
          }
            #video .inner {
              position: relative;
              padding-top: 57%; /* this (in combination with the iframe styles) sets height of the iframe via aspect ratio w/ the width */
            }
              #video .inner iframe {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%; 
                height: 100%;
              }

    </style>

    <div id="row" class$="[[rowClass]]" style$="[[rowStyle]]">
      <bl-cms-background-pattern content="[[content]]"></bl-cms-background-pattern>

      <div id="rowInner">  
      
        <bl-cms-section-title id="title" content="[[content]]"></bl-cms-section-title>

        <bl-cms-section-subtitle id="subtitle" content="[[content]]"></bl-cms-section-subtitle>

        <div id="video">
          <div class="inner">
            <iframe src$="https://www.youtube.com/embed/[[content.fields.youTubeVideoId]]" frameborder="0"
              allowfullscreen mozallowfullscreen webkitallowfullscreen oallowfullscreen msallowfullscreen></iframe>
          </div>
        </div>

        <bl-cms-section-buttons id="buttons" content="[[content]]"></bl-cms-section-buttons>

        <bl-cms-section-footer id="footer" content="[[content]]"></bl-cms-section-footer>

      </div>
    </div>

  </template>

  <script>
    class BlCmsVideoSection extends BlCmsSectionMixin(Polymer.Element) {
      
      static get is() { return 'bl-cms-video-section'; }

      static get properties() {
        return {}
      }

    }

    window.customElements.define(BlCmsVideoSection.is, BlCmsVideoSection);
  </script>
</dom-module>