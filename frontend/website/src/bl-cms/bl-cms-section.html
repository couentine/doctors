<!-- #=== POLYMER & SHIMS ===# -->
<link rel="import" href="../../bower_components/polymer/polymer.html">

<!-- #=== BADGE LIST COMPONENTS ===# -->
<link rel="import" href="../bl-styles/bl-styles.html">
<link rel="import" href="bl-cms-button.html">

<!--
# Badge List CMS Section #

This renders a CMS section item.
-->
<dom-module id="bl-cms-section">
  <template>

    <style include="bl-style-classes">
      
      /* === LAYOUT & BASE STYLES === */
        
        :host {
          display: block;
          font-size: 1rem; 
        }

      /* === ROW STYLES === */

        #row {
          display: block;
          padding: 0 2em;

          color: var(--text-color, var(--bl-grey-800));
          background: var(--background-color, white);
        }

        #row.text-white {
          --text-color: white;
        }

        #row.bg-orange-50 { --background-color: var(--bl-orange-50); }
        #row.bg-orange-100 { --background-color: var(--bl-orange-100); }
        #row.bg-orange-200 { --background-color: var(--bl-orange-200); }
        #row.bg-orange-300 { --background-color: var(--bl-orange-300); }
        #row.bg-orange-400 { --background-color: var(--bl-orange-400); }
        #row.bg-orange-500 { --background-color: var(--bl-orange-500); }
        #row.bg-orange-600 { --background-color: var(--bl-orange-600); }
        #row.bg-orange-700 { --background-color: var(--bl-orange-700); }
        #row.bg-orange-800 { --background-color: var(--bl-orange-800); }
        #row.bg-orange-900 { --background-color: var(--bl-orange-900); }

        #row.bg-light-blue-50 { --background-color: var(--bl-light-blue-50); }
        #row.bg-light-blue-100 { --background-color: var(--bl-light-blue-100); }
        #row.bg-light-blue-200 { --background-color: var(--bl-light-blue-200); }
        #row.bg-light-blue-300 { --background-color: var(--bl-light-blue-300); }
        #row.bg-light-blue-400 { --background-color: var(--bl-light-blue-400); }
        #row.bg-light-blue-500 { --background-color: var(--bl-light-blue-500); }
        #row.bg-light-blue-600 { --background-color: var(--bl-light-blue-600); }
        #row.bg-light-blue-700 { --background-color: var(--bl-light-blue-700); }
        #row.bg-light-blue-800 { --background-color: var(--bl-light-blue-800); }
        #row.bg-light-blue-900 { --background-color: var(--bl-light-blue-900); }

        #row.bg-green-50 { --background-color: var(--bl-green-50); }
        #row.bg-green-100 { --background-color: var(--bl-green-100); }
        #row.bg-green-200 { --background-color: var(--bl-green-200); }
        #row.bg-green-300 { --background-color: var(--bl-green-300); }
        #row.bg-green-400 { --background-color: var(--bl-green-400); }
        #row.bg-green-500 { --background-color: var(--bl-green-500); }
        #row.bg-green-600 { --background-color: var(--bl-green-600); }
        #row.bg-green-700 { --background-color: var(--bl-green-700); }
        #row.bg-green-800 { --background-color: var(--bl-green-800); }
        #row.bg-green-900 { --background-color: var(--bl-green-900); }

      /* === CONTENT STYLES === */

        #buttons {
          list-style: none;
          margin: 1em 0;
          padding: 0;
          display: flex;
          flex-direction: row;
          justify-content: center;
          flex-wrap: wrap;
        }
          #buttons li {
            display: block;
            margin: 1em 2em;
          }

    </style>

    <div id="row" class$="bg-[[content.fields.backgroundColor]] text-[[content.fields.textColor]] type-[[content.fields.contentType]]">
      
      <h2 hidden="[[equal(content.fields.contentType, 'button-bar')]]">
        [[content.fields.title]]
      </h2>

      <div id="subtitle" hidden="[[!has(content.fields.subtitle)]]">
        [[content.fields.subtitle]]
      </div>

      <ul id="buttons" hidden="[[!has(content.fields.buttons)]]">
        <template is="dom-repeat" items="[[content.fields.buttons]]" as="button">
          <li>
            <bl-cms-button
              content="[[button]]"
              color="[[content.fields.buttonColor]]"
              styles="[[content.fields.buttonStyles]]"
            ></bl-cms-button>
          </li>
        </template>
      </ul>

    </div>

  </template>

  <script>
    class BlCmsSection extends Polymer.Element {
      
      static get is() { return 'bl-cms-section'; }

      static get properties() {
        return {
          
          content: Object,

        }
      }

      // #=== PUBLIC HELPER & UTILITY METHODS ===#

      equal(testValue, ...matchList) {
        return matchList.includes(testValue);
      }

      has(testValue) {
        return testValue && (testValue.length > 0);
      }

      contains(testValue, containsText) {
        return testValue && testValue.includes(containsText);
      }

    }

    window.customElements.define(BlCmsSection.is, BlCmsSection);
  </script>
</dom-module>